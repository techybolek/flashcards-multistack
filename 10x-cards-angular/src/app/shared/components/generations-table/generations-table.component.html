<div class="space-y-4" *ngIf="!loading">
  <div class="flex justify-between items-center">
    <h2 class="text-xl font-semibold">Your Generations</h2>
    <app-button>
      <a routerLink="/generate">Generate New Flashcards</a>
    </app-button>
  </div>
  
  <div *ngIf="generations.length === 0" class="text-center py-12">
    <p class="text-muted-foreground mb-4">
      You haven't generated any flashcards yet.
    </p>
    <app-button>
      <a routerLink="/generate">Generate Your First Flashcards</a>
    </app-button>
  </div>

  <div *ngIf="generations.length > 0" class="border rounded-lg">
    <app-table>
      <app-table-header>
        <app-table-row>
          <app-table-head>Name</app-table-head>
          <app-table-head>Created</app-table-head>
          <app-table-head>Updated</app-table-head>
          <app-table-head>Flashcards</app-table-head>
          <app-table-head class="text-right">Actions</app-table-head>
        </app-table-row>
      </app-table-header>
      <app-table-body>
        <app-table-row *ngFor="let generation of generations">
          <app-table-cell>
            <a 
              [routerLink]="['/generations', generation.id]"
              class="font-medium hover:underline"
            >
              {{ generation.generation_name }}
            </a>
          </app-table-cell>
          <app-table-cell class="text-muted-foreground">
            {{ generation.created_at | date: 'mediumDate' }}
          </app-table-cell>
          <app-table-cell class="text-muted-foreground">
            {{ generation.updated_at | date: 'mediumDate' }}
          </app-table-cell>
          <app-table-cell>
            <app-badge variant="secondary">
              {{ generation.flashcard_count || 0 }} cards
            </app-badge>
          </app-table-cell>
          <app-table-cell class="text-right">
            <div class="flex gap-2 justify-end">
              <app-button variant="outline" size="sm">
                <a [routerLink]="['/generations', generation.id]">
                  Manage
                </a>
              </app-button>
              <app-button
                variant="outline"
                size="sm"
                (click)="handleDeleteGeneration(generation.id, generation.generation_name)"
                [disabled]="deletingId === generation.id"
              >
                {{ deletingId === generation.id ? 'Deleting...' : 'Delete' }}
              </app-button>
            </div>
          </app-table-cell>
        </app-table-row>
      </app-table-body>
    </app-table>
  </div>
</div>

<div *ngIf="loading" class="text-center py-8">
  <p class="text-muted-foreground">Loading generations...</p>
</div>
